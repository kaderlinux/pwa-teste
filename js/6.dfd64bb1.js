(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{0:function(e,t){},"17ea":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-table",{staticClass:"my-sticky-column-table",attrs:{data:e.data,columns:e.columns,"row-key":"_id",loading:e.loading,filter:e.filter,pagination:e.pagination,"rows-per-page-options":[10],separator:"cell"},scopedSlots:e._u([{key:"top",fn:function(t){return[a("span",{staticClass:"text-h5"},[e._v("Synthèse Détaillée par wilaya")]),a("q-select",{staticClass:"q-ml-md",attrs:{options:e.cultureOptions,filled:"",dense:"","display-value":""+(e.culture?e.culture.label:" ")},model:{value:e.culture,callback:function(t){e.culture=t},expression:"culture"}}),!e.culture||"cheptel"!=e.culture.value&&"infrastructure"!=e.culture.value?a("q-checkbox",{attrs:{label:"Sec / Irrigué"},model:{value:e.avec_sec_irrigue,callback:function(t){e.avec_sec_irrigue=t},expression:"avec_sec_irrigue"}}):e._e(),a("q-space"),a("q-btn",{staticClass:"col-auto",attrs:{color:"green-1","text-color":"blue-grey",unelevated:"",icon:"file_download",label:"Excel"},on:{click:e.onexport}}),a("q-btn",{staticClass:"col-auto q-ml-sm",attrs:{color:"grey-3","text-color":"blue-grey",unelevated:"",icon:"refresh",label:"Actualiser"},on:{click:e.refresh}}),a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}}])})],1)])])},s=[],r=(a("8baf"),a("0da4"),a("bd4c"),a("a6c0"),a("1146")),i=a.n(r),n={name:"PagePage1",data(){return{filter:"",loading:!1,totaux:null,pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:10},addDialog:!1,updateDialog:!1,showDialog:!1,avec_sec_irrigue:!1,data:[],columns:[{name:"1",field:"1",label:"Wilaya",align:"left",sortable:!1}],cultureOptions:[{label:"Cheptel",value:"cheptel"},{label:"Grands cultures",value:"grands_cultures"},{label:"Légumes secs",value:"legumes_secs"},{label:"Fourrages",value:"fourrages"},{label:"Maraîchage plein champ & Plasticulture",value:"maraichage"},{label:"Cultures industrielles\t",value:"cultures_industrielles"},{label:"Arboriculture",value:"arboculture"},{label:"Investissements et infrastructures agricoles",value:"infrastructure"}],culture:{label:"Grands cultures",value:"grands_cultures"}}},computed:{wilaya:function(){return this.$store.getters["fiche/wilaya"]},commune:function(){return this.$store.getters["fiche/commune"]},user:function(){return this.$store.getters["auth/user"]},data_synthese_detaille:function(){return this.$store.getters["fiche/data_synthese_detaille"]},messagerie_validation(){return"rga_validation"==this.db}},watch:{total_rows:function(e){this.pagination.rowsNumber=e},wilaya:function(e){this.refresh()},commune:function(e){this.refresh()},culture:function(e){this.refresh()},avec_sec_irrigue:function(e){this.refresh()}},components:{},methods:{refresh(){this.onRequest({pagination:this.pagination})},onRequest(){this.columns=[{name:"wilaya",field:"wilaya",label:"Wilaya",align:"left",sortable:!1}];let e=this.culture.value+(this.avec_sec_irrigue&&"cheptel"!=this.culture.value&&"infrastructure"!=this.culture.value?"_sec_irr":"");this.$store.dispatch("fiche/getSyntheseDetailleMadr",e).then(e=>{for(var t in this.data=this.data_synthese_detaille,this.data[0])"wilaya"!=t&&this.columns.push({name:t,field:t,label:t,align:"right",sortable:!1})})},async onexport(){var e=i.a.utils.json_to_sheet(this.data_synthese_detaille),t=i.a.utils.book_new();if(i.a.utils.book_append_sheet(t,e,this.culture.label.substring(0,31)),this.$q.platform.is.electron){let{filePath:e,canceled:a}=await dialog.showSaveDialog({defaultPath:this.culture.label+".xlsx"});a||i.a.writeFile(t,e)}else i.a.writeFile(t,this.culture.label+".xlsx")}},mounted(){this.refresh()}},u=n,c=(a("d415"),a("2877")),o=a("9989"),d=a("eaac"),h=a("ddd8"),f=a("8f8e"),g=a("2c91"),p=a("9c40"),b=a("eebe"),_=a.n(b),m=Object(c["a"])(u,l,s,!1,null,null,null);t["default"]=m.exports;_()(m,"components",{QPage:o["a"],QTable:d["a"],QSelect:h["a"],QCheckbox:f["a"],QSpace:g["a"],QBtn:p["a"]})},3:function(e,t){},"3efc":function(e,t,a){},4:function(e,t){},d415:function(e,t,a){"use strict";var l=a("3efc"),s=a.n(l);s.a},f4d7:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("desktop")],1)},s=[],r={components:{desktop:a("17ea").default}},i=r,n=a("2877"),u=a("9989"),c=a("eebe"),o=a.n(c),d=Object(n["a"])(i,l,s,!1,null,null,null);t["default"]=d.exports;o()(d,"components",{QPage:u["a"]})}}]);